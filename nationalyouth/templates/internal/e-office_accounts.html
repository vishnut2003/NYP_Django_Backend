<!--
   Made By -: Techzniczone
   website - :https://www.techzniczone.com/
   email - :techzniczone@gmail.com
   -->
<!-------------------------------------- Add E OFFICE ACCOUNTS Page --------------------------------->
<!--------------------------------------------------------------------------------------------------->
{% extends 'Main/base.html' %} {% block main_content %} {% load static %}
<div class="phStickyWrap">{% include 'Main/header.html' %}</div>
<body>
  <div class="d-lg-flex half">
    <div class="container mb-16">
      <div class="row align-items-center justify-content-center">
        <div class="col-lg-12 col-md-12 col-sm-6 py-5 pt-15">
          <center>
            <h3 id="e_office_accounts">E OFFICE ACCOUNTS</h3>

            <div
              style="display: flex; flex-direction: column; align-items: center"
            >
              <div
                style="
                  width: 100px;
                  height: 3px;
                  background-color: #3446cd;
                  margin-bottom: 10px;
                "
              ></div>
              <div
                style="
                  width: 30px;
                  height: 3px;
                  background-color: #3446cd;
                  margin-bottom: 55px;
                "
              ></div>
            </div>
          </center>
          <!-- <center>
                  <p class="mb-4">Error Message Comes Here</p>
                  </center> -->

          <div class="text-center alert alert-danger" id="erorr" role="alert" style="display:none;">
          </div>
          <form action="#" method="post">
            {% csrf_token %}
            <div class="row">
              <div class="col-md-6">
                <div class="form-group first">
                  <label>Type of Accounts <span class="text-danger">*</span></label
                  >
                  <select class="form-control" id="type_of_account">
                    <option value="" selected>Select</option>
                    {% for account_type in all_type %}
                    <option value="{{account_type.id}}">
                      {{account_type.type_of_account}}
                    </option>
                    {% endfor %}
                  </select>
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-group first">
                  <label>Voucher Number <span class="text-danger">*</span></label
                  >
                  <input id="voucher_number" type="text" class="form-control" />
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-md-6">
                <div class="form-group first">
                  <label>Particulars Head <span class="text-danger">*</span></label
                  >
                  <select class="form-control" id="particular_head">
                    <option value="" selected>Select</option>
                    {% for head in all_heads %}
                    <option value="{{head.id}}">
                      {{head.particular_head}}
                    </option>
                    {% endfor %}
                  </select>
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-group first">
                  <label>Date <span class="text-danger">*</span></label
                  >
                  <input
                    id="date"
                    type="date"
                    class="form-control"
                  />
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-md-6">
                <div class="form-group first">
                  <label>Amount</label>
                  <input id="amount" type="text" class="form-control" />
                </div>
              </div>
            </div>
            <center>
              <h4 class="mt-5 text-danger">Online Payment Details</h4>
            </center>
            <div class="row">
              <div class="col-md-6">
                <div class="form-group first">
                  <label>Bank Name</label>
                  <input id="bank_name" type="text" class="form-control" />
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-group first">
                  <label>Amount (Online Payment Details)</label>
                  <input id="amount_detail" type="text" class="form-control" />
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-md-6">
                <div class="form-group first">
                  <label>Transaction ID Number</label>
                  <input id="transaction_id" type="text" class="form-control" />
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-group first">
                  <label>Remarks</label>
                  <input id="remark" type="text" class="form-control" />
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-md-3">
                <div class="form-group first">
                  <label>Name <span class="text-danger">*</span></label>
                  <input id="details_name" type="text" class="form-control" />
                </div>
              </div>
              <div class="col-md-3">
                <div class="form-group first">
                  <label>Office / Collage Name
                    <span class="text-danger">*</span></label
                  >
                  <select class="form-control" id="college_name">
                    <option value="" selected>Select</option>
                    {% for college in all_college %}
                    <option value="{{college.id}}">
                      {{college.college_name}}
                    </option>
                    {% endfor %}
                  </select>
                </div>
              </div>
              <div class="col-md-3">
                <div class="form-group first">
                  <label>Address <span class="text-danger">*</span></label>
                  <input id="address" type="text" class="form-control" />
                </div>
              </div>
              <div class="col-md-3">
                <div class="form-group first">
                  <label>Amount</label>
                  <input id="amount2_onlin" type="text" class="form-control" value=" "/>
                </div>
                
              </div>
            </div>
            <div class="row">
              <div class="col-md-4">
                <div class="form-group first">
                  <label>File Referral Number
                    <span class="text-danger">*</span></label>
                  <input
                    id="file_referral_number"
                    type="text"
                    class="form-control"
                  />
                </div>
              </div>
              <div class="col-md-4">
                <div class="form-group first">
                  <label
                    >Office Register Number
                    <span class="text-danger">*</span></label
                  >
                  <input
                    id="o_office_register_number"
                    type="text"
                    class="form-control"
                  />
                </div>
              </div>
              <div class="col-md-4">
                <div class="form-group first">
                  <label>Pan Card / Aadhar Number</label>
                  <input
                    id="pan_card_number"
                    type="text"
                    class="form-control"
                  />
                </div>
              </div>
            </div>
            <center>
              <h4 class="mt-5 text-danger">Approval</h4>
            </center>
            <div class="row">
              <div class="col-md-6">
                <div class="form-group first">
                  <label
                    >Officer in Charge (Name)
                    <span class="text-danger">*</span></label
                  >
                  <input
                    id="officer_incharge_name"
                    type="text"
                    class="form-control"
                  />
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-group first">
                  <label
                    >Secretary/Chief Executive Officer (Name)
                    <span class="text-danger">*</span></label
                  >
                  <input id="secretary_name" type="text" class="form-control" />
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-md-6">
                <div class="form-group first">
                  <label
                    >Officer in Charge (Status)
                    <span class="text-danger">*</span></label
                  >
                  <select id="officer_incharge_status" class="form-control">
                    <option value="" selected>Select</option>
                    {% for st in all_status %}
                    <option value="{{st.id}}">{{st.status}}</option>
                    {% endfor %}
                  </select>
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-group first">
                  <label>Secretary/Chief Executive Officer (status)
                    <span class="text-danger">*</span></label
                  >
                  <select id="secretary_status" class="form-control">
                    <option value="" selected>Select</option>
                    {% for st in all_status %}
                    <option value="{{st.id}}">{{st.status}}</option>
                    {% endfor %}
                  </select>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-md-6">
                <div class="form-group first">
                  <label
                    >Remarks (Staff Approval)
                    <span class="text-danger">*</span></label
                  >
                  <input
                    id="remark_staff_approval"
                    type="text"
                    class="form-control"
                  />
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-group first">
                  <label
                    >Remarks (Officer Approval)
                    <span class="text-danger">*</span></label
                  >
                  <input
                    id="remark_officer_approval"
                    type="text"
                    class="form-control"
                  />
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-md-6">
                <div class="form-group first">
                  <label
                    >Office Referral Number
                    <span class="text-danger">*</span></label
                  >
                  <input
                    id="office_referral_number"
                    type="text"
                    class="form-control"
                  />
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-md-12">
                <div class="form-group first">
                  <label>Note</label>
                  <textarea
                    id="description"
                    type="text"
                    class="form-control"
                  ></textarea>
                </div>
              </div>
            </div>
            <input
              type="button"
              onclick="fm_send()"
              value="Submit Form"
              class="btn px-5 btn-primary"
              style="background-color: #3446cd"
            />
          </form>
        </div>
      </div>
    </div>
    <script src="{% static 'forms/js/jquery-3.3.1.min.js' %}"></script>
    <script src="{% static 'forms/js/popper.min.js' %}"></script>
    <script src="{% static 'forms/js/bootstrap.min.js' %}"></script>
    <script src="{% static 'forms/js/main.js' %}"></script>
    <script>

        function fm_send() {
            let type_of_account = document.getElementById("type_of_account").value;
            let voucher_number = document.getElementById("voucher_number").value;
            let particular_head = document.getElementById("particular_head").value;
            let date0 = document.getElementById("date").value;
            let amount = document.getElementById("amount").value;
            let bank_name = document.getElementById("bank_name").value;
            let amount_detail = document.getElementById("amount_detail").value;
            let transaction_id = document.getElementById("transaction_id").value;
            let remark = document.getElementById("remark").value;
            let details_name = document.getElementById("details_name").value;
            let college_name = document.getElementById("college_name").value;
            let address = document.getElementById("address").value;
            let amount2 = document.getElementById("amount2_onlin").value;
            let file_referral_number = document.getElementById("file_referral_number").value;
            let o_office_register_number = document.getElementById("o_office_register_number").value;
            let pan_card_number = document.getElementById("pan_card_number").value;
            let officer_incharge_name = document.getElementById("officer_incharge_name").value;
            let secretary_name = document.getElementById("secretary_name").value;
            let officer_incharge_status = document.getElementById("officer_incharge_status").value;
            let secretary_status = document.getElementById("secretary_status").value;
            let remark_staff_approval = document.getElementById("remark_staff_approval").value;
            let remark_officer_approval = document.getElementById("remark_officer_approval").value;
            let office_referral_number = document.getElementById("office_referral_number").value;
            let description = document.getElementById("description").value;
            let er=document.getElementById("erorr")
            
            if (type_of_account === "") {
              er.innerHTML="Please Select Type of Account"
              window.location.href="#e_office_accounts"
              er.style.display="block"
            } else if (particular_head === "") {
                er.innerHTML="Please Select Particulars Head"
                window.location.href="#e_office_accounts"
                er.style.display="block"
            }  else if (voucher_number === "") {
                er.innerHTML="Enter Voucher Number"
                window.location.href="#e_office_accounts"
                er.style.display="block"
            } else if (date0 === "") {
              er.innerHTML="Please Select Date"
              window.location.href="#e_office_accounts"
              er.style.display="block"
            }else if (details_name === "") {
                er.innerHTML="Enter Name"
                window.location.href="#e_office_accounts"
                er.style.display="block"
            } else if (college_name === "") {
                er.innerHTML="Please Select College Name"
                window.location.href="#e_office_accounts"
                er.style.display="block"
            } else if (address === "") {
                er.innerHTML="Enter Address"
                window.location.href="#e_office_accounts"
                er.style.display="block"
            } else if (file_referral_number === "") {
                er.innerHTML="Enter File Referral Number"
                window.location.href="#e_office_accounts"
                er.style.display="block"
            } else if (o_office_register_number === "") {
                er.innerHTML="Enter Office Referral Number"
                window.location.href="#e_office_accounts"
                er.style.display="block"
            } else if (officer_incharge_name === "") {
                er.innerHTML="Enter Officer Incharge Name"
                window.location.href="#e_office_accounts"
                er.style.display="block"
            } else if (secretary_name === "") {
                er.innerHTML="Enter Secretary Name"
                window.location.href="#e_office_accounts"
                er.style.display="block"
            } else if (officer_incharge_status === "") {
                er.innerHTML="Please Select Officer Incharge Status"
                window.location.href="#e_office_accounts"
                er.style.display="block"
            } else if (secretary_status === "") {
                er.innerHTML="Please Select Secretary Status"
                window.location.href="#e_office_accounts"
                er.style.display="block"
            } else if (remark_staff_approval === "") {
                er.innerHTML="Enter Remark Staff Approval"
                window.location.href="#e_office_accounts"
                er.style.display="block"
            } else if (remark_officer_approval === "") {
                er.innerHTML="Enter Remark Officer Approval"
                window.location.href="#e_office_accounts"
                er.style.display="block"
            } else if (office_referral_number === "") {
                er.innerHTML="Enter Office Referral Number"
                window.location.href="#e_office_accounts"
                er.style.display="block"
            } else {
                $.ajax({
                    type: "post",
                    url: "/e_office_accounts",
                    data: {
                        type_of_account: type_of_account,
                        voucher_number: voucher_number,
                        particular_head: particular_head,
                        date: date0,
                        amount: amount,
                        bank_name: bank_name,
                        amount_detail: amount_detail,
                        transaction_id: transaction_id,
                        remark: remark,
                        details_name: details_name,
                        college_name: college_name,
                        address: address,
                        amount2: amount2,
                        file_referral_number: file_referral_number,
                        o_office_register_number: o_office_register_number,
                        pan_card_number: pan_card_number,
                        officer_incharge_name: officer_incharge_name,
                        secretary_name: secretary_name,
                        officer_incharge_status: officer_incharge_status,
                        secretary_status: secretary_status,
                        remark_staff_approval: remark_staff_approval,
                        remark_officer_approval: remark_officer_approval,
                        office_referral_number: office_referral_number,
                        description:description,
                        csrfmiddlewaretoken: $("input[name=csrfmiddlewaretoken]").val(),
                    },
                    success: function (response) {
                        if (response === "Save") {
                            er.setAttribute("class","text-center alert alert-success");
                            er.style.display="block"
                            er.innerHTML="Form submission Successfully"
                            window.location.href="#e_office_accounts"

                            setTimeout(()=>{
                              window.location.href="/e_office_accounts"

                            },4000)
                            
                        } else {
                            alert("Ooops, something went wrong");
                        }
                    },
                });
            }
        }
        
    </script>
    
    <script>
      $(function () {
        $("#date").datepicker({
          dateFormat: "yy-mm-dd",
        });
      });
    </script>
    {% endblock %}
  </div>
</body>
